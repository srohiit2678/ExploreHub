<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Submission Form</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
          background: linear-gradient(to right, #6a11cb, #2575fc);
            min-height: 100vh;
            padding: 2rem;
        }
        .form-group {
    margin-bottom: 1.5rem;
}

label {
    display: block;
    font-size: 0.875rem;
    font-weight: 500;
    color: #374151;
    margin-bottom: 0.5rem;
}

select {
    width: 100%;
    padding: 0.5rem 0.75rem;
    border: 1px solid #d1d5db;
    border-radius: 0.375rem;
    font-size: 0.875rem;
    transition: all 0.2s;
}

select:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}


        .card {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .card-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: bold;
            text-align: center;
            color: #111827;
        }

        .card-content {
            padding: 1.5rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
            margin-bottom: 0.5rem;
        }

        input[type="text"],
        input[type="url"],
        textarea {
            width: 100%;
            padding: 0.5rem 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        input[type="text"]:focus,
        input[type="url"]:focus,
        textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }

        .team-member {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            align-items: center;
        }

        .team-member-role {
            min-width: 80px;
            font-size: 0.875rem;
            font-weight: 500;
            color: #3b82f6;
        }

        .tech-stacks {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .tech-stack-btn {
            padding: 0.5rem 1rem;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            background: white;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .tech-stack-btn.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .btn {
            padding: 0.5rem 1rem;
            border: 1px solid transparent;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
        }

        .btn-primary:hover {
            background: #2563eb;
        }

        .btn-outline {
            border-color: #d1d5db;
            background: white;
        }

        .btn-outline:hover {
            background: #f3f4f6;
        }

        .btn-icon {
            padding: 0.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .error-message {
            color: #dc2626;
            font-size: 0.875rem;
            margin-top: 0.25rem;
        }

        .alert {
            padding: 1rem;
            border-radius: 0.375rem;
            margin-top: 1rem;
        }

        .alert-success {
            background: #ecfdf5;
            border: 1px solid #059669;
            color: #059669;
        }

        .alert-error {
            background: #fef2f2;
            border: 1px solid #dc2626;
            color: #dc2626;
        }

        .loading {
            display: inline-block;
            width: 1rem;
            height: 1rem;
            border: 2px solid #ffffff;
            border-radius: 50%;
            border-top-color: transparent;
            animation: spin 1s linear infinite;
            margin-right: 0.5rem;
        }

        /* img upload */

 .upload-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 10px;
}

.upload-container label {
    display: block;
    font-size: 0.875rem;
    font-weight: 500;
    color: #374151;
    margin-bottom: 0.5rem;
}

.upload-container input {
    flex-grow: 1;
}

#fileNamesList, #codeFileList {
    margin-top: 10px;
    list-style-type: none;
    padding: 0;
}

#fileNamesList li, #codeFileList li {
    background: #f9f9f9; 
    padding: 8px 12px;
    margin: 5px 0;
    border-radius: 5px;
    font-size: 14px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: #222; /* ‡§π‡§≤‡•ç‡§ï‡§æ ‡§°‡§æ‡§∞‡•ç‡§ï */
}

#fileNamesList li a, #codeFileList li a {
    text-decoration: none;
    color: #007bff; /* ‡§≤‡§ø‡§Ç‡§ï ‡§ú‡•à‡§∏‡§æ ‡§¶‡§ø‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è */
    font-weight: bold;
    cursor: pointer;
}

.remove-btn {
    background: red;
    color: white;
    border: none;
    padding: 4px 8px;
    cursor: pointer;
    border-radius: 3px;
    font-size: 12px;
}

.remove-btn:hover {
    background: darkred;
}





        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body>
    <div class="card">
        <div class="card-header">
            <h1 class="card-title">Project Submission Form</h1>
        </div>
        <div class="card-content">
            <form id="projectForm">
                <div class="form-group">
                    <label>Project Name *</label>
                    <input type="text" name="projectName" required>
                    <div class="error-message"></div>
                </div>

                <div class="form-group">
                    <label>Description *</label>
                    <textarea name="description" rows="4" required></textarea>
                    <div class="error-message"></div>
                </div>

                <!-- Mentor Name Dropdown -->
<div class="form-group">
  <label>Mentor Name *</label>
  <select name="mentorName" required>
      <option value="" disabled selected>Select Mentor</option>
      <option value="Dr. Sanjay Mehta">Dr. Sanjay Mehta</option>
      <option value="Prof. Anjali Rao">Prof. Anjali Rao</option>
      <option value="Dr. Karan Malhotra">Dr. Karan Malhotra</option>
      <option value="Prof. Ritu Sharma">Prof. Ritu Sharma</option>
      <option value="Dr. Amit Joshi">Dr. Amit Joshi</option>
  </select>
</div>


                <div class="form-group">
                    <label>Team Members *</label>
                    <div id="teamMembers">
                        <div class="team-member">
                            <span class="team-member-role">Team Lead</span>
                            <input type="text" placeholder="Name" required>
                            <input type="text" placeholder="LinkedIn/Email" required>
                        </div>
                        <div class="team-member">
                            <span class="team-member-role">Member</span>
                            <input type="text" placeholder="Name" required>
                            <input type="text" placeholder="LinkedIn/Email" required>
                            <button type="button" class="btn btn-icon remove-member">√ó</button>
                        </div>
                    </div>
                    <button type="button" class="btn btn-outline" id="addMember">+ Add Team Member</button>
                    <div class="error-message"></div>
                </div>

                <div class="form-group">
                    <label>Tech Stacks *</label>
                    <div class="tech-stacks" id="techStacks">
                        <button type="button" class="tech-stack-btn" data-tech="AI">AI</button>
                        <button type="button" class="tech-stack-btn" data-tech="ML">ML</button>
                        <button type="button" class="tech-stack-btn" data-tech="Web Development">Web Development</button>
                        <button type="button" class="tech-stack-btn" data-tech="Mobile Development">Mobile Development</button>
                        <button type="button" class="tech-stack-btn" data-tech="Cloud Computing">Cloud Computing</button>
                        <button type="button" class="tech-stack-btn" data-tech="DevOps">DevOps</button>
                        <button type="button" class="tech-stack-btn" data-tech="Blockchain">Blockchain</button>
                        <button type="button" class="tech-stack-btn" data-tech="IoT">IoT</button>
                    </div>
                    <div class="error-message"></div>
                </div>

            
<!-- Upload Images -->
<div class="upload-container">
    <label>Upload Project Output Images (Min 1 & Max 5) *</label>
    <input type="file" id="projectImages" accept="image/*" multiple required>
</div>

<!-- Uploaded Image Names List -->
<ul id="fileNamesList"></ul>

<!-- Upload Code File -->
<div class="upload-container">
    <label>Upload Project Code (ZIP, RAR) *</label>
    <input type="file" id="projectCode" accept=".zip,.rar" required>
</div>

<!-- Uploaded Code File Name -->
<ul id="codeFileList"></ul>

<!-- github repo link -->

                <div class="form-group">
                    <label>GitHub Repository Link</label>
                    <input type="url" name="githubLink" placeholder="https://github.com/username/repository">
                    <div class="error-message"></div>
                </div>
<!-- project live link -->
                <div class="form-group">
                    <label>Project Live Link</label>
                    <input type="url" name="liveLink" placeholder="https://your-project-url.com">
                    <div class="error-message"></div>
                </div>

                <div class="form-group">
                    <label>Challenges Faced</label>
                    <textarea name="challenges" rows="4"></textarea>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%">Submit Project</button>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('projectForm');
            const addMemberBtn = document.getElementById('addMember');
            const techStacksContainer = document.getElementById('techStacks');
            const teamMembersContainer = document.getElementById('teamMembers');

            // Handle tech stack selection
            techStacksContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('tech-stack-btn')) {
                    e.target.classList.toggle('active');
                }
            });

            // Add team member
            addMemberBtn.addEventListener('click', () => {
                const memberDiv = document.createElement('div');
                memberDiv.className = 'team-member';
                memberDiv.innerHTML = `
                    <span class="team-member-role">Member</span>
                    <input type="text" placeholder="Name" required>
                    <input type="text" placeholder="LinkedIn/Email" required>
                    <button type="button" class="btn btn-icon remove-member">√ó</button>
                `;
                teamMembersContainer.appendChild(memberDiv);
            });

            // Remove team member
            teamMembersContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('remove-member')) {
                    e.target.parentElement.remove();
                }
            });

            // Form validation and submission
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                // Reset error messages
                document.querySelectorAll('.error-message').forEach(el => el.textContent = '');
                
                // Validate form
                let isValid = true;
                const errors = {};

                // Project name validation
                if (!form.projectName.value.trim()) {
                    errors.projectName = 'Project name is required';
                    isValid = false;
                }

                // Description validation
                if (!form.description.value.trim()) {
                    errors.description = 'Description is required';
                    isValid = false;
                }

                // // Mentor name validation
                // if (!form.mentorName.value.trim()) {
                //     errors.mentorName = 'Mentor name is required';
                //     isValid = false;
                // }
                document.getElementById("projectForm").addEventListener("submit", function(event) {
    const mentorSelect = document.querySelector("select[name='mentorName']");
    
    if (mentorSelect.value === "") {
        alert("Please select a mentor! üöÄ");
        event.preventDefault(); 
    }
});


                // Tech stacks validation
                const selectedTechStacks = Array.from(techStacksContainer.querySelectorAll('.active'))
                    .map(btn => btn.dataset.tech);
                if (selectedTechStacks.length === 0) {
                    const techStacksError = techStacksContainer.nextElementSibling;
                    techStacksError.textContent = 'Select at least one technology stack';
                    isValid = false;
                }
// project image previewImage

const imageInput = document.getElementById("projectImages");
const fileNamesList = document.getElementById("fileNamesList");
let selectedFiles = [];

imageInput.addEventListener("change", function (event) {
    const files = Array.from(event.target.files);

    if (selectedFiles.length + files.length > 5) {
        alert("You can upload a maximum of 5 images!");
        return;
    }

    files.forEach(file => {
        if (!file.type.startsWith("image/")) {
            alert("Only image files are allowed!");
            return;
        }

        selectedFiles.push(file);

        // Create List Item
        const listItem = document.createElement("li");

        // Create Clickable Link for Preview
        const fileLink = document.createElement("a");
        fileLink.textContent = file.name;
        fileLink.href = "#";
        fileLink.onclick = function (e) {
            e.preventDefault();
            openImagePreview(file);
        };

        // Remove Button
        const removeBtn = document.createElement("button");
        removeBtn.textContent = "Remove";
        removeBtn.classList.add("remove-btn");
        removeBtn.onclick = function () {
            selectedFiles = selectedFiles.filter(f => f !== file);
            listItem.remove();
        };

        listItem.appendChild(fileLink);
        listItem.appendChild(removeBtn);
        fileNamesList.appendChild(listItem);
    });
});

// Function to Show Image in New Tab
function openImagePreview(file) {
    const reader = new FileReader();
    reader.onload = function (e) {
        const newWindow = window.open();
        newWindow.document.write(`<img src="${e.target.result}" style="max-width:100%;">`);
    };
    reader.readAsDataURL(file);
}

// Code File Upload
const codeInput = document.getElementById("projectCode");
const codeFileList = document.getElementById("codeFileList");

codeInput.addEventListener("change", function (event) {
    const file = event.target.files[0];

    if (!file) return;

    if (!["application/zip", "application/x-rar-compressed"].includes(file.type) && !file.name.endsWith(".zip") && !file.name.endsWith(".rar")) {
        alert("Only ZIP or RAR files are allowed!");
        codeInput.value = "";
        return;
    }

    codeFileList.innerHTML = ""; // Clear previous file
    const listItem = document.createElement("li");

    // Create Clickable Link for File Name
    const fileLink = document.createElement("a");
    fileLink.textContent = file.name;
    fileLink.href = "#";
    fileLink.onclick = function (e) {
        e.preventDefault();
        alert("File uploaded: " + file.name);
    };

    // Remove Button
    const removeBtn = document.createElement("button");
    removeBtn.textContent = "Remove";
    removeBtn.classList.add("remove-btn");
    removeBtn.onclick = function () {
        codeInput.value = "";
        listItem.remove();
    };

    listItem.appendChild(fileLink);
    listItem.appendChild(removeBtn);
    codeFileList.appendChild(listItem);
});



                // GitHub link validation
                if (form.githubLink.value) {
                    const githubRegex = /^https?:\/\/github\.com\/[\w-]+\/[\w-]+$/;
                    if (!githubRegex.test(form.githubLink.value)) {
                        errors.githubLink = 'Please enter a valid GitHub repository URL';
                        isValid = false;
                    }
                }

                // Live link validation
                if (form.liveLink.value) {
                    const urlRegex = /^https?:\/\/.+/;
                    if (!urlRegex.test(form.liveLink.value)) {
                        errors.liveLink = 'Please enter a valid URL';
                        isValid = false;
                    }
                }

                // Display errors if any
                Object.keys(errors).forEach(key => {
                    const input = form.querySelector(`[name="${key}"]`);
                    const errorDiv = input.nextElementSibling;
                    errorDiv.textContent = errors[key];
                });

                if (!isValid) return;

                // Submit form
                const submitBtn = form.querySelector('button[type="submit"]');
                const originalBtnText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<span class="loading"></span>Submitting...';
                submitBtn.disabled = true;

                try {
                    // Simulate API call
                    await new Promise(resolve => setTimeout(resolve, 1500));

                    // Create success message
                    const alert = document.createElement('div');
                    alert.className = 'alert alert-success';
                    alert.textContent = 'Project submitted successfully!';
                    form.appendChild(alert);

                    // Reset form
                    form.reset();
                    techStacksContainer.querySelectorAll('.active').forEach(btn => btn.classList.remove('active'));
                    const teamMembers = teamMembersContainer.querySelectorAll('.team-member');
                    for (let i = 2; i < teamMembers.length; i++) {
                        teamMembers[i].remove();
                    }

                } catch (error) {
                    // Create error message
                    const alert = document.createElement('div');
                    alert.className = 'alert alert-error';
                    alert.textContent = 'An error occurred. Please try again.';
                    form.appendChild(alert);
                } finally {
                    submitBtn.innerHTML = originalBtnText;
                    submitBtn.disabled = false;
                }
            });
        });
    </script>
</body>
</html>
